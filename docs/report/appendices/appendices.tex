%!TEX program = xelatex
\documentclass[final]{report} %scrreprt of scrartcl
\input{../../.library/preamble.tex}
\input{../../.library/style.tex}
\addbibresource{../../.library/bibliography.bib}
\begin{document}
\begin{appendices}
\renewcommand{\chapternumber}{\appendixname\space\thechapter}
\crefalias{chapter}{app}
% \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
% \makeatletter
% \addtocontents{toc}{%
% 	\begingroup
% 	\let\protect\l@chapter\protect\l@section
% 	\let\protect\l@section\protect\l@subsection
% }
% \makeatother

\chapter{}\label{app:first-appendix}

%Json rechat structure
\section{Rechat json structure}
\label{json_structure}
\begin{verbatim}
{
	"id": "chat-11-2017:AVrcyDpRlmpBKkvqiPUA",
	"attributes": {
		"command": "",
		"room": "amazhs",
		"color": null,
		"from": "junrong777",
		"video-offset": 440888,
		"deleted": false,
		"tags": {
			"user-type": null,
			"subscriber": false,
			"badges": null,
			"room-id": "43356746",
			"color": null,
			"id": "a71ac1ac-d497-4b28-95ed-8e85b202cae6",
			"turbo": false,
			"emotes": null,
			"user-id": "133601858",
			"display-name": "junrong777",
			"mod": false,
			"tmi-sent-ts": "1489762792350"
		},
		"timestamp": 1489762777888,
		"message": "HE DID"
	},
	"type": "rechat-message",
	"links": {
		"self": "/rechat-message/chat-11-2017:AVrcyDpRlmpBKkvqiPUA"
	}
}
\end{verbatim}


\section{Ratio of deleted messages per streamer}
\begin{table}[h]
\centering
\caption{Ratio of deleted messages per streamer}
\label{ratio_table}
\renewcommand{\arraystretch}{0.9}% Tighter
\begin{tabular}{llll}
Streamer 		 & Deleted messages & Total messages & Ratio \\
m0e\_tv          & 5      & 361     & 0.013850415512465374  \\
tsm\_theoddone   & 824    & 186551  & 0.004417022690845935  \\
nightblue3       & 1790   & 72540   & 0.024676040805073064  \\
yoda             & 53     & 4717    & 0.011235955056179775  \\
flosd            & 140    & 2795    & 0.05008944543828265   \\
castro\_1021     & 1690   & 106058  & 0.015934677252069623  \\
mlg              & 301688 & 2628092 & 0.11479354604024516   \\
esl\_csgo        & 6487   & 87949   & 0.07375865558448647   \\
tsm\_dyrus       & 22     & 1470    & 0.014965986394557823  \\
monstercat       & 5201   & 100962  & 0.05151443117212417   \\
streamerhouse    & 221    & 46592   & 0.004743303571428571  \\
nick28t          & 128    & 6775    & 0.0188929889298893    \\
shroud           & 2      & 2588    & 0.0007727975270479134 \\
anomalyxd        & 2      & 112     & 0.017857142857142856  \\
mushisgosu       & 659    & 33710   & 0.019549095223969148  \\
amazhs           & 565    & 25165   & 0.02245181800119213   \\
kaypealol        & 66     & 1363    & 0.04842259721203228   \\
gassymexican     & 397    & 38654   & 0.010270605888135768  \\
legendarylea     & 1738   & 34901   & 0.04979800005730495   \\
nick\_28t        & 1292   & 95130   & 0.013581414905918217  \\
rewinside        & 1607   & 14426   & 0.11139609039234714   \\
iijeriichoii     & 740    & 39794   & 0.01859576820626225   \\
eleaguetv        & 60761  & 779918  & 0.07790690816214012   \\
kittyplays       & 2180   & 71705   & 0.030402342932849873  \\
starladder5      & 714    & 17648   & 0.040457842248413416  \\
olofmeister      & 1      & 655     & 0.0015267175572519084 \\
izakooo          & 93     & 2523    & 0.036860879904875146  \\
dreamhackcs      & 8190   & 112943  & 0.07251445419370833   \\
giantwaffle      & 7      & 200     & 0.035                 \\
twitch           & 65     & 1047    & 0.06208213944603629   \\
drdisrespectlive & 195    & 12384   & 0.015746124031007752  \\
loltyler1        & 174    & 5040    & 0.034523809523809526  \\
boxbox           & 27     & 2093    & 0.012900143334925944  \\
a\_seagull       & 188    & 58252   & 0.0032273570006180045 \\
\end{tabular}
\end{table}

\pagebreak
\section{Scripts}

\subsection{Gathering}
All scripts used for gathering purposes are collected in the gathering folder.

\subsubsection{TwitchVideoIDCollector}
\label{script:twitch_video_id_collector}
Located at gathering/TwitchVideoIDCollector.py\\

\subsubsection{TwitchVideoDownloader}
\label{script:twitch_video_downloader}
Located at gathering/TwitchVideoDownloader.py.\\
Requires a list of video id's collected by the TwitchVideoIDCollector.

\subsubsection{Preprocessor}
\label{script:preprocessor}
Located at gathering/Preprocessor/preprocessor.py\\
This is the preprocessor script in python, which was eventually replaced by a .NET script.

\subsubsection{Preprocessor.NET}
\label{script:preprocessor.NET}
Located at gathering/Preprocessor.NET\\
Replaced the python script.

\subsection{Analyzing}
All scripts used for analyzing purposes are collected in the analyze folder.
\subsubsection{Word count}
\label{script:word_count}
Located at $analyse/word\_count.py$\\

\subsubsection{Streams per user}
\label{script:streams_per_user}
Located at $analyse/streams\_per\_user.py$\\

\subsubsection{Deleted messages}
\label{script:deleted_messages}
Several scripts were used:\\
$num\_deleted\_messages.py$ - calculates the ratio's per streamer with a list of users\\
$num\_total\_deleted\_messages.py$ - calculated the average ratio of a streamer\\
$user\_deleted\_rankings.py$ - sorts the users on their ratio for every video\\

\subsection{Unfinished}
All scripts created but not used in the analysis are collected in the unfinished folder.

\subsubsection{Pickle2sql}
\label{script:pickle2sql}
Located at unfinished/pickle2sql.py\\
This script takes a filtered rechat pickle file and creates a sql statement to insert into the message classifier database.

\subsubsection{SpeechRecognition}
\label{script:speech_recognition}
Located at $unfinished/speech\_vod.py$\\
This scripts was used to test the speech recognition of video files. 

\subsubsection{Message Classifier}
\label{script:message_classifier}
Located at unfinished/MessageClassifier.
Website to rate the messages of a stream. Output will be used to train the classifier.

\subsubsection{MaxEntClassifier}
\label{script:max_ent_classifier}
Located at unfinished/MaxEntClassifier
This script was used to test/train the classifier.

\end{appendices}
\end{document}